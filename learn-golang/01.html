<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Go 快速入门（一） | Kaisco L</title>
    <meta name="description" content="Rome is not built in a day.">
    <link rel="icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.0ad23782.css" as="style"><link rel="preload" href="/assets/js/app.eb766794.js" as="script"><link rel="preload" href="/assets/js/2.12a3889d.js" as="script"><link rel="preload" href="/assets/js/8.61479e54.js" as="script"><link rel="prefetch" href="/assets/js/10.3e3aa79e.js"><link rel="prefetch" href="/assets/js/11.e54a9576.js"><link rel="prefetch" href="/assets/js/12.15fba913.js"><link rel="prefetch" href="/assets/js/13.e62a5e25.js"><link rel="prefetch" href="/assets/js/14.7f590dff.js"><link rel="prefetch" href="/assets/js/15.da3f9779.js"><link rel="prefetch" href="/assets/js/16.62dc4f1a.js"><link rel="prefetch" href="/assets/js/3.4d6c77a2.js"><link rel="prefetch" href="/assets/js/4.9fb4c202.js"><link rel="prefetch" href="/assets/js/5.a9f8dc60.js"><link rel="prefetch" href="/assets/js/6.acbbc17d.js"><link rel="prefetch" href="/assets/js/7.bc0929d5.js"><link rel="prefetch" href="/assets/js/9.f2d3f225.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0ad23782.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Kaisco L</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/contents.html" class="nav-link">Contents</a></div><div class="nav-item"><a href="https://github.com/kaisco" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/contents.html" class="nav-link">Contents</a></div><div class="nav-item"><a href="https://github.com/kaisco" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Go 快速入门（一）</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/learn-golang/01.html#一、go语言环境安装" class="sidebar-link">一、Go语言环境安装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learn-golang/01.html#_1、-安装" class="sidebar-link">1、 安装</a></li><li class="sidebar-sub-header"><a href="/learn-golang/01.html#_2-、环境变量" class="sidebar-link">2.、环境变量</a></li><li class="sidebar-sub-header"><a href="/learn-golang/01.html#_3、hello-world" class="sidebar-link">3、Hello World</a></li></ul></li><li><a href="/learn-golang/01.html#二、go基础概念" class="sidebar-link">二、Go基础概念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learn-golang/01.html#_1、关键字" class="sidebar-link">1、关键字</a></li><li class="sidebar-sub-header"><a href="/learn-golang/01.html#_2、包（package）" class="sidebar-link">2、包（package）</a></li><li class="sidebar-sub-header"><a href="/learn-golang/01.html#_3、import" class="sidebar-link">3、import</a></li><li class="sidebar-sub-header"><a href="/learn-golang/01.html#_4、可见性" class="sidebar-link">4、可见性</a></li></ul></li><li><a href="/learn-golang/01.html#三、go语言基础" class="sidebar-link">三、Go语言基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learn-golang/01.html#_1、数据类型" class="sidebar-link">1、数据类型</a></li><li class="sidebar-sub-header"><a href="/learn-golang/01.html#_2、变量、常量" class="sidebar-link">2、变量、常量</a></li><li class="sidebar-sub-header"><a href="/learn-golang/01.html#_3、slice、map" class="sidebar-link">3、slice、map</a></li><li class="sidebar-sub-header"><a href="/learn-golang/01.html#_4、函数和流程" class="sidebar-link">4、函数和流程</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="go-快速入门（一）"><a href="#go-快速入门（一）" class="header-anchor">#</a> Go 快速入门（一）</h1> <h1 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h1> <p>随着公司的业务发展，原先支撑起我们大部分业务的 PHP 技术栈已经不堪重负，所以我们逐渐引入了 Java 技术栈，帮我们解决了很多问题。</p> <p>然而对于很多 PHP 程序员而言，Java 往往意味着替换而不是补充，转型之路又面临着陡峭的学习曲线，往往令人望而却步。</p> <p>幸而，Golang 指出了另一条明路：上手简单、性能强大，而且可以跟 PHP 友好相处。</p> <p>事实上，**业务就曾经在遇到高并发的业务时，用 Go 实现了部分低性能的 API ，有效地解决了业务压力；我们的**服务也通过用 Go 进行重写，替换了 PHP 版本，在减少了服务器资源的情况下，还极大地增加了系统的承载能力，有效地保障了上层业务的稳健运行。</p> <p>在此，我邀请了负责咱们**服务的 <code>Kaisco</code> 同学，为大家准备这个 Golang 的快速入门系列，计划用每周一篇的节奏，带着大家在 1 ~ 2 个月的时间里，不仅掌握 Go 语言的基础使用，还能<strong>实现一个 上万 TPS 的简化版 Redis</strong> 。</p> <p>感兴趣吗？那就快点参与进来，还有，别忘了完成课后习题。（By 冯少）</p> <h2 id="一、go语言环境安装"><a href="#一、go语言环境安装" class="header-anchor">#</a> 一、Go语言环境安装</h2> <h3 id="_1、-安装"><a href="#_1、-安装" class="header-anchor">#</a> 1、 安装</h3> <p>根据操作系统到<a href="https://golang.org/dl/" target="_blank" rel="noopener noreferrer">官网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>或<a href="https://golang.google.cn/dl/" target="_blank" rel="noopener noreferrer">中国镜像<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>下载安装包，并根据不同操作系统安装教程安装golang。注意区分自己的操作系统是32位还是64位。</p> <ul><li><a href="https://golang.google.cn/doc/install#tarball" target="_blank" rel="noopener noreferrer">Linux环境下安装<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://golang.google.cn/doc/install#macos" target="_blank" rel="noopener noreferrer">MacOS环境下安装<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://golang.google.cn/doc/install#windows" target="_blank" rel="noopener noreferrer">Windows环境下安装<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h3 id="_2-、环境变量"><a href="#_2-、环境变量" class="header-anchor">#</a> 2.、环境变量</h3> <h4 id="_2-1、goroot"><a href="#_2-1、goroot" class="header-anchor">#</a> 2.1、GOROOT</h4> <p><code>Go1.10</code>版本引入了默认<code>GOROOT</code>，即开发者无需显式设置<code>GOROOT</code>环境变量。<strong>唯一要做的就是将安装目录下bin目录路径放置到PATH环境变量中。</strong></p> <ul><li>类Unix系统</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span>:go-install-dir/bin
</code></pre></div><ul><li>Windows</li></ul> <div class="language-powershell extra-class"><pre class="language-powershell"><code>SETX <span class="token string">&quot;PATH&quot;</span> <span class="token string">&quot;%PATH%;go-install-dir/bin&quot;</span> <span class="token operator">/</span>M
</code></pre></div><h4 id="_2-2、gopath"><a href="#_2-2、gopath" class="header-anchor">#</a> 2.2、GOPATH</h4> <p><code>GOPATH</code>环境变量指定工作区的位置，<code>GOPATH</code>可以是您系统上的任何目录，<strong>但是<code>GOPATH</code>该路径不能与Go安装相同</strong>。</p> <p><code>Go1.8</code>版本引入默认的<code>GOPATH</code>。在Linux/Mac系下，默认的<code>GOPATH</code>为$HOME/go，在Windows下，<code>GOPATH</code>默认路径为：%USERPROFILE%/go。</p> <p><code>GOPATH</code> 下目录约定有三个子目录：</p> <div class="language-null extra-class"><pre class="language-text"><code>GOPATH
	- src 存放源代码(在该目录下进行开发)
	- pkg 编译后生成的文件
	- bin 编译后生成的可执行文件
</code></pre></div><p><code>GOPATH</code> 中允许设置多个目录（但不常用），通常会将所有Go代码保存在一个<code>GOPATH</code>中。</p> <p>此外，有些 IDE 可以给每个项目设立单独的 <code>GOPATH</code> ，避免项目之间的依赖包出现冲突（类似PHP的composer或者Python的virtualenv）。</p> <h3 id="_3、hello-world"><a href="#_3、hello-world" class="header-anchor">#</a> 3、Hello World</h3> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">// $GOPATH/src/hello_world.go</span>
<span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello world or 你好 世界 or 안녕 세상 or こんにちはせかい&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在<code>$GOPATH/src</code>目录下输入命令<code>go run hello_world.go</code>运行程序。</p> <p>程序输出：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>Hello world or 你好 世界 or 안녕 세상 or こんにちはせかい
</code></pre></div><h2 id="二、go基础概念"><a href="#二、go基础概念" class="header-anchor">#</a> 二、Go基础概念</h2> <h3 id="_1、关键字"><a href="#_1、关键字" class="header-anchor">#</a> 1、关键字</h3> <p><code>break</code>、<code>default</code>、<code>func</code>、<code>interface</code>、<code>select</code>、<code>case</code>、<code>defer</code>、<code>go</code>、<code>map</code>、<code>struct</code>、<code>chan</code>、<code>else</code>、<code>goto</code>、<code>package</code>、<code>switch</code>、<code>const</code>、<code>fallthrough</code>、<code>if</code>、<code>range</code>、<code>type</code>、<code>continue</code>、<code>for</code>、<code>import</code>、<code>return</code>、<code>var</code></p> <h3 id="_2、包（package）"><a href="#_2、包（package）" class="header-anchor">#</a> 2、包（package）</h3> <p>Go使用<code>package</code>来组织代码。<code>package</code>的基本作用：模块化（能够把程序分成多个模块)和可重用性（每个模块都能被其它应用程序反复使用）。</p> <blockquote><p>每一个可独立运行的Go程序，必定包含一个<code>package main</code>，在这个<code>main</code>包中必定包含一个入口函数<code>main</code>，而这个函数既没有参数，也没有返回值。</p></blockquote> <h3 id="_3、import"><a href="#_3、import" class="header-anchor">#</a> 3、import</h3> <p>Go代码的时候经常用到import这个命令用来导入包文件。</p> <p>举例:</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
</code></pre></div><p>或者</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">&quot;fmt&quot;</span>
  <span class="token string">&quot;math&quot;</span>
<span class="token punctuation">)</span>
</code></pre></div><h3 id="_4、可见性"><a href="#_4、可见性" class="header-anchor">#</a> 4、可见性</h3> <p>当标识符（包括常量、变量、类型、函数名、结构字段等）以一个大写字母开头，那么使用这种形式的标识符可以被外部包的代码所使用，这被称为导出（像面向对象语言中的 public）；标识符如果以小写字母开头，则对包外是不可见的，但是他们在整个包的内部是可见并且可用的（像面向对象语言中的 private ）。</p> <p>例如：<strong>在 package test1 中定义两个方法 Foo 和 bar，在 test2 中只能调用 test1.Foo，无法调用 test1.bar.</strong></p> <h2 id="三、go语言基础"><a href="#三、go语言基础" class="header-anchor">#</a> 三、Go语言基础</h2> <h3 id="_1、数据类型"><a href="#_1、数据类型" class="header-anchor">#</a> 1、数据类型</h3> <p>bool、rune、int8、 int16、int32、int64、byte、uint8、uint16、uint32、uint64、float32、float64、string、<strong>error</strong>(内置<code>error</code>类型，专门用来处理错误信息)等等基本数据类型。</p> <h3 id="_2、变量、常量"><a href="#_2、变量、常量" class="header-anchor">#</a> 2、变量、常量</h3> <h4 id="_2-1、变量"><a href="#_2-1、变量" class="header-anchor">#</a> 2.1、变量</h4> <p>Go语言里面定义变量有多种方式。</p> <p><code>var</code>关键字是Go最基本的定义变量方式，Go把变量类型放在变量名后面：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">//定义一个名称为“variableName”，类型为&quot;type&quot;的变量</span>
<span class="token keyword">var</span> variableName <span class="token keyword">type</span>

<span class="token comment">// 定义变量并初始化值</span>
<span class="token keyword">var</span> variableName <span class="token keyword">type</span> <span class="token operator">=</span> value

<span class="token comment">//定义三个类型都是“type”的变量</span>
<span class="token keyword">var</span> vname1<span class="token punctuation">,</span>vname2<span class="token punctuation">,</span>vname3 <span class="token keyword">type</span>

<span class="token comment">// 定义三个类型都是&quot;type&quot;的变量,并且分别初始化为相应的值vname1为v1，vname2为v2，vname3为v3</span>
<span class="token keyword">var</span> vname1<span class="token punctuation">,</span>vname2<span class="token punctuation">,</span>vname3 <span class="token keyword">type</span><span class="token operator">=</span> v1<span class="token punctuation">,</span>v2<span class="token punctuation">,</span>v3

<span class="token comment">// 定义三个变量，它们分别初始化为相应的值vname1为v1，vname2为v2，vname3为v3。然后Go会根据其相应值的类型来决定变量的基本数据类型</span>
<span class="token keyword">var</span> vname1<span class="token punctuation">,</span>vname2<span class="token punctuation">,</span>vname3 <span class="token operator">=</span> v1<span class="token punctuation">,</span>v2<span class="token punctuation">,</span>v3
<span class="token comment">// 或者使用`简短声明`方式</span>
vname1<span class="token punctuation">,</span>vname2<span class="token punctuation">,</span>vname3 <span class="token operator">:=</span> v1<span class="token punctuation">,</span>v2<span class="token punctuation">,</span>v3
</code></pre></div><ul><li><p><strong>简短声明有一个限制，那就是它只能用在函数内部；在函数外部使用则会无法编译通过，所以一般用<code>var</code>方式来定义全局变量。</strong></p></li> <li><p><strong>Go对于已声明但未使用的变量会在编译阶段报错</strong></p></li> <li><p><code>_</code>（下划线）是个特殊的变量名，任何赋予它的值都会被丢弃。</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token boolean">_</span><span class="token punctuation">,</span> b <span class="token operator">:=</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">35</span>
</code></pre></div></li></ul> <h4 id="_2-2、常量"><a href="#_2-2、常量" class="header-anchor">#</a> 2.2、常量</h4> <p>常量就是在程序编译阶段就确定下来的值，而程序在运行时无法改变该值。</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">const</span> constantName <span class="token operator">=</span> value
<span class="token comment">//如果需要，也可以明确指定常量的类型：</span>
<span class="token keyword">const</span> Pi <span class="token builtin">float32</span> <span class="token operator">=</span> <span class="token number">3.1415926</span>
</code></pre></div><h4 id="_2-3、分组声明"><a href="#_2-3、分组声明" class="header-anchor">#</a> 2.3、分组声明</h4> <p>在Go语言中，同时声明多个常量、变量，或者导入多个包时，可采用分组的方式进行声明。</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">import</span><span class="token punctuation">(</span>
    <span class="token string">&quot;fmt&quot;</span>
    <span class="token string">&quot;os&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">const</span><span class="token punctuation">(</span>
    i <span class="token operator">=</span> <span class="token number">100</span>
    pi <span class="token operator">=</span> <span class="token number">3.1415</span>
    prefix <span class="token operator">=</span> <span class="token string">&quot;Go_&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">var</span><span class="token punctuation">(</span>
    i <span class="token builtin">int</span>
    pi <span class="token builtin">float32</span>
    prefix <span class="token builtin">string</span>
<span class="token punctuation">)</span>
</code></pre></div><h3 id="_3、slice、map"><a href="#_3、slice、map" class="header-anchor">#</a> 3、slice、map</h3> <h4 id="_3-1、slice"><a href="#_3-1、slice" class="header-anchor">#</a> 3.1、slice</h4> <ul><li><p>定义方式</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">// 和声明array一样，只是少了长度</span>
<span class="token keyword">var</span> fslice <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>
<span class="token comment">// 初始化数据</span>
slice <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span> <span class="token punctuation">{</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">}</span>
</code></pre></div></li> <li><p><code>slice</code>可以从一个数组或一个已经存在的<code>slice</code>中再次声明。<code>slice</code>通过<code>array[i:j]</code>来获取，其中<code>i</code>是数组的开始位置，<code>j</code>是结束位置，但不包含<code>array[j]</code>，它的长度是<code>j-i</code>。</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">// 声明一个含有10个元素元素类型为byte的数组</span>
<span class="token keyword">var</span> ar <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token builtin">byte</span> <span class="token punctuation">{</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">,</span> <span class="token string">'f'</span><span class="token punctuation">,</span> <span class="token string">'g'</span><span class="token punctuation">,</span> <span class="token string">'h'</span><span class="token punctuation">,</span> <span class="token string">'i'</span><span class="token punctuation">,</span> <span class="token string">'j'</span><span class="token punctuation">}</span>

<span class="token comment">// 声明两个含有byte的slice</span>
<span class="token keyword">var</span> a<span class="token punctuation">,</span> b <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span>

<span class="token comment">// a指向数组的第3个元素开始，并到第五个元素结束，</span>
a <span class="token operator">=</span> ar<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span>
<span class="token comment">//现在a含有的元素: ar[2]、ar[3]和ar[4]</span>

<span class="token comment">// b是数组ar的另一个slice</span>
b <span class="token operator">=</span> ar<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span>
<span class="token comment">// b的元素是：ar[3]和ar[4]</span>
</code></pre></div><blockquote><p>注意<code>slice</code>和数组在声明时的区别：声明数组时，方括号内写明了数组的长度或使用<code>...</code>自动计算长度，而声明<code>slice</code>时，方括号内没有任何字符。</p></blockquote></li> <li><p>slice简便的操作</p> <ul><li><code>slice</code>的默认开始位置是0，<code>ar[:n]</code>等价于<code>ar[0:n]</code></li> <li><code>slice</code>的第二个序列默认是<code>slice</code>的长度，<code>ar[n:]</code>等价于<code>ar[n:len(ar)]</code></li> <li>如果从一个数组里面直接获取<code>slice</code>，可以这样<code>ar[:]</code>，因为默认第一个序列是0，第二个是数组的长度，即等价于<code>ar[0:len(ar)]</code></li></ul></li> <li><p>``slice`有几个有用的内置函数</p> <ul><li><code>len</code> 获取<code>slice</code>的长度</li> <li><code>cap</code> 获取<code>slice</code>的最大容量</li> <li><code>append</code> 向<code>slice</code>里面追加一个或者多个元素，然后返回一个和<code>slice</code>一样类型的<code>slice</code></li> <li><code>copy</code> 函数<code>copy</code>从源<code>slice</code>的<code>src</code>中复制元素到目标<code>dst</code>，并且返回复制的元素的个数</li></ul></li></ul> <h4 id="_3-2、map"><a href="#_3-2、map" class="header-anchor">#</a> 3.2、map</h4> <p><code>map</code>的格式为<code>map[keyType]valueType</code>。</p> <div class="language- extra-class"><pre class="language-text"><code>// 声明一个key是字符串，值为int的字典,这种方式的声明需要在使用之前使用make初始化
var numbers map[string]int

// 另一种map的声明方式
numbers := make(map[string]int)
numbers[&quot;one&quot;] = 1  //赋值
numbers[&quot;ten&quot;] = 10 //赋值
numbers[&quot;three&quot;] = 3

fmt.Println(&quot;第三个数字是: &quot;, numbers[&quot;three&quot;]) // 读取数据
// 打印出来如:第三个数字是: 3

// 通过delete删除map的元素
delete(numbers, &quot;ten&quot;)  // 删除key为ten的元素

// 判断map是否存在某个元素
if _, ok := numbers[&quot;four&quot;]; ok {
	// ok 为true即存在
}
</code></pre></div><ul><li><code>map</code>是无序的，每次打印出来的<code>map</code>都会不一样，它不能通过<code>index</code>获取，而必须通过<code>key</code>获取</li> <li><code>map</code>的长度是不固定的，也就是和<code>slice</code>一样，也是一种引用类型</li> <li>内置的<code>len</code>函数同样适用于<code>map</code>，返回<code>map</code>拥有的<code>key</code>的数量</li> <li><code>map</code>和其他基本型别不同，它不是thread-safe，在多个go-routine存取时，必须使用mutex lock机制</li></ul> <h4 id="_3-3、make、new操作"><a href="#_3-3、make、new操作" class="header-anchor">#</a> 3.3、make、new操作</h4> <p><code>make</code>用于内建类型（<code>map</code>、<code>slice</code> 和<code>channel</code>）的内存分配。<code>new</code>用于各种类型的内存分配。</p> <h3 id="_4、函数和流程"><a href="#_4、函数和流程" class="header-anchor">#</a> 4、函数和流程</h3> <h4 id="_4-1、函数"><a href="#_4-1、函数" class="header-anchor">#</a> 4.1、函数</h4> <p>函数使用关键字func来声明。</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">funcName</span><span class="token punctuation">(</span>input1 type1<span class="token punctuation">,</span> input2 type2<span class="token punctuation">)</span> <span class="token punctuation">(</span>output1 type1<span class="token punctuation">,</span> output2 type2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//这里是处理逻辑代码</span>
    <span class="token comment">//返回多个值</span>
    <span class="token keyword">return</span> value1<span class="token punctuation">,</span> value2
<span class="token punctuation">}</span>
</code></pre></div><ul><li>关键字<code>func</code>用来声明一个函数<code>funcName</code></li> <li>函数可以有一个或者多个参数，每个参数后面带有类型，通过<code>,</code>分隔</li> <li>函数可以返回多个值</li> <li>上面返回值声明了两个变量<code>output1</code>和<code>output2</code>，如果你不想声明也可以，直接就两个类型</li> <li>如果只有一个返回值且不声明返回值变量，那么你可以省略 包括返回值 的括号</li> <li>如果没有返回值，那么就直接省略最后的返回信息</li> <li>如果有返回值， 那么必须在函数的外层添加return语句</li></ul> <p>Go函数支持变参。接受变参的函数是有着不定数量的参数的。</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">myfunc</span><span class="token punctuation">(</span>arg <span class="token operator">...</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><p><strong>defer</strong></p> <p>Go语言中有种不错的设计，即延迟（defer）语句，可以在函数中添加多个defer语句。当函数执行到最后时，这些defer语句会按照逆序执行，最后该函数返回。</p> <p><strong>init函数</strong></p> <p>Go里面有两个保留的函数：<code>init</code>函数（能够应用于所有的<code>package</code>）和<code>main</code>函数（只能应用于<code>package main</code>）。这两个函数在定义时不能有任何的参数和返回值。虽然一个<code>package</code>里面可以写任意多个<code>init</code>函数，但这无论是对于可读性还是以后的可维护性来说，我们都强烈建议用户在一个<code>package</code>中每个文件只写一个<code>init</code>函数。</p> <p>Go程序会自动调用<code>init()</code>和<code>main()</code>，所以你不需要在任何地方调用这两个函数。每个<code>package</code>中的<code>init</code>函数都是可选的，但<code>package main</code>就必须包含一个<code>main</code>函数。</p> <h4 id="_4-2、流程"><a href="#_4-2、流程" class="header-anchor">#</a> 4.2、流程</h4> <h4 id="_4-2-1、if"><a href="#_4-2-1、if" class="header-anchor">#</a> 4.2.1、if</h4> <p>Go里面<code>if</code>条件判断语句中不需要括号。</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">// 用法一</span>
<span class="token keyword">if</span> x <span class="token operator">&gt;</span> <span class="token number">10</span> <span class="token punctuation">{</span>
	<span class="token comment">// ...</span>
<span class="token punctuation">}</span>

<span class="token comment">// 用法二</span>
<span class="token keyword">if</span> x <span class="token operator">&gt;</span> <span class="token number">10</span> <span class="token punctuation">{</span>
	<span class="token comment">// ...</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
	<span class="token comment">// ...</span>
<span class="token punctuation">}</span>

<span class="token comment">// 用法三</span>
<span class="token keyword">if</span> x <span class="token operator">:=</span> <span class="token function">computedValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> x <span class="token operator">&gt;</span> <span class="token number">10</span> <span class="token punctuation">{</span>
   <span class="token comment">// ...</span>
<span class="token punctuation">}</span> 
</code></pre></div><h4 id="_4-2-2、for"><a href="#_4-2-2、for" class="header-anchor">#</a> 4.2.2、for</h4> <p>Go里面最强大的一个控制逻辑就是<code>for</code>，它即可以用来循环读取数据，又可以当作<code>while</code>来控制逻辑，还能迭代操作。它的语法如下：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">for</span> expression1<span class="token punctuation">;</span> expression2<span class="token punctuation">;</span> expression3 <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>for循环作为其它语言while语句：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">for</span> expression <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>for</code>配合<code>range</code>可以用于读取<code>slice</code>和<code>map</code>的数据：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">for</span> k<span class="token punctuation">,</span>v<span class="token operator">:=</span><span class="token keyword">range</span> <span class="token keyword">map</span> <span class="token punctuation">{</span>
   <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><h1 id="本章试练"><a href="#本章试练" class="header-anchor">#</a> 本章试练</h1> <ul><li>安装<code>Go</code>环境，实现hello world并编译运行</li> <li>用牛顿法实现平方根函数 - <a href="https://leetcode-cn.com/problems/sqrtx/" target="_blank" rel="noopener noreferrer">LeetCode 题目地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>实现一个<code>fibonacci</code> 函数，返回一个数列的迭代器（一个函数），每次调用这个迭代器函数，都会返回该数列的下一个元素。<a href="https://zh.wikipedia.org/wiki/%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%88%97" target="_blank" rel="noopener noreferrer">斐波纳契数列<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <code>(0, 1, 1, 2, 3, 5, ...)</code> - <a href="https://tour.go-zh.org/moretypes/26" target="_blank" rel="noopener noreferrer">查看答案<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>给定一个单词列表，只返回可以使用在键盘同一行的字母打印出来的单词<a href="https://leetcode-cn.com/problems/keyboard-row/" target="_blank" rel="noopener noreferrer">LeetCode 题目地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>给定一个整数，将其转化为7进制，并以字符串形式输出<a href="https://leetcode-cn.com/problems/base-7/" target="_blank" rel="noopener noreferrer">LeetCode 题目地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.eb766794.js" defer></script><script src="/assets/js/2.12a3889d.js" defer></script><script src="/assets/js/8.61479e54.js" defer></script>
  </body>
</html>
